<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="MC Project - Your Personal Health & Wealth Companion">
    <title>MC Project | Health & Wealth Tracker</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --pixel-bg: #1a1a2e;
            --pixel-dark: #0f0f1a;
            --pixel-cyan: #00d4ff;
            --pixel-purple: #9d4edd;
            --pixel-yellow: #ffe66d;
            --pixel-pink: #ff6b9d;
            --pixel-green: #4ecdc4;
        }
        
        body {
            font-family: 'VT323', monospace;
            background: var(--pixel-bg);
            color: #e0e0e0;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* Pixel Header */
        .pixel-header {
            background: linear-gradient(180deg, #2d1b4e 0%, #1a1a2e 100%);
            border-bottom: 4px solid var(--pixel-cyan);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 0 #000;
        }
        
        .pixel-logo {
            font-family: 'Press Start 2P', cursive;
            font-size: 14px;
            color: var(--pixel-cyan);
            text-shadow: 2px 2px 0 #000;
        }
        
        .pixel-nav {
            display: flex;
            gap: 1rem;
        }
        
        .pixel-nav a {
            font-family: 'Press Start 2P', cursive;
            font-size: 8px;
            color: #888;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border: 2px solid #333;
            background: var(--pixel-dark);
            transition: all 0.2s;
        }
        
        .pixel-nav a:hover {
            color: var(--pixel-cyan);
            border-color: var(--pixel-cyan);
            background: rgba(0,212,255,0.1);
        }
        
        /* Main Layout */
        .main-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        @media (max-width: 900px) {
            .main-container {
                grid-template-columns: 1fr;
            }
        }
        
        /* 3D Viewer Section */
        .viewer-section {
            background: linear-gradient(135deg, #2d1b4e, #1a1a2e);
            border: 4px solid #333;
            border-radius: 8px;
            padding: 1rem;
            box-shadow: 8px 8px 0 #000;
        }
        
        .viewer-title {
            font-family: 'Press Start 2P', cursive;
            font-size: 10px;
            color: var(--pixel-yellow);
            margin-bottom: 1rem;
            text-align: center;
        }
        
        #character-canvas {
            width: 100%;
            height: 400px;
            background: linear-gradient(180deg, #1a1a2e, #0f0f1a);
            border: 2px solid #333;
            border-radius: 4px;
        }
        
        .viewer-controls {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .pixel-btn {
            font-family: 'Press Start 2P', cursive;
            font-size: 8px;
            padding: 0.75rem 1rem;
            border: 2px solid var(--pixel-cyan);
            background: rgba(0,212,255,0.1);
            color: var(--pixel-cyan);
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .pixel-btn:hover {
            background: var(--pixel-cyan);
            color: #000;
        }
        
        /* Stats Section */
        .stats-section {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .pixel-card {
            background: linear-gradient(135deg, #2d1b4e, #1a1a2e);
            border: 4px solid #333;
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: 8px 8px 0 #000;
        }
        
        .pixel-card-title {
            font-family: 'Press Start 2P', cursive;
            font-size: 10px;
            color: var(--pixel-cyan);
            margin-bottom: 1rem;
            border-bottom: 2px solid #333;
            padding-bottom: 0.5rem;
        }
        
        .stat-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 0;
            border-bottom: 1px solid #333;
        }
        
        .stat-row:last-child {
            border-bottom: none;
        }
        
        .stat-label {
            font-size: 18px;
            color: #888;
        }
        
        .stat-value {
            font-family: 'Press Start 2P', cursive;
            font-size: 12px;
            color: var(--pixel-yellow);
        }
        
        /* Progress Bars */
        .progress-container {
            margin-top: 0.5rem;
        }
        
        .pixel-progress {
            height: 20px;
            background: #0f0f1a;
            border: 2px solid #333;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .pixel-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--pixel-cyan), var(--pixel-green));
            transition: width 0.3s ease;
        }
        
        /* Footer */
        .pixel-footer {
            text-align: center;
            padding: 2rem;
            border-top: 4px solid #333;
            margin-top: 2rem;
            font-size: 14px;
            color: #666;
        }
    </style>
</head>
<body>
    <!-- Pixel Header -->
    <header class="pixel-header">
        <div class="pixel-logo">üéÆ MC PROJECT</div>
        <nav class="pixel-nav">
            <a href="#character">CHARACTER</a>
            <a href="#health">HEALTH</a>
            <a href="#wealth">WEALTH</a>
        </nav>
    </header>

    <!-- Main Container -->
    <div class="main-container">
        <!-- 3D Character Viewer -->
        <section class="viewer-section" id="character">
            <h2 class="viewer-title">üë§ YOUR CHARACTER</h2>
            <div id="character-canvas"></div>
            <div class="viewer-controls">
                <button class="pixel-btn" onclick="rotateCharacter()">üîÑ ROTATE</button>
                <button class="pixel-btn" onclick="toggleWireframe()">üî≤ WIREFRAME</button>
                <button class="pixel-btn" onclick="resetView()">üè† RESET</button>
            </div>
        </section>

        <!-- Stats Section -->
        <div class="stats-section">
            <!-- Health Card -->
            <div class="pixel-card" id="health">
                <h3 class="pixel-card-title">‚ù§Ô∏è HEALTH</h3>
                <div class="stat-row">
                    <span class="stat-label">Exercise Today</span>
                    <span class="stat-value">45 min</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Sleep Last Night</span>
                    <span class="stat-value">7.5 hrs</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Calories</span>
                    <span class="stat-value">1,850</span>
                </div>
                <div class="progress-container">
                    <div class="pixel-progress">
                        <div class="pixel-progress-fill" style="width: 78%"></div>
                    </div>
                </div>
            </div>

            <!-- Wealth Card -->
            <div class="pixel-card" id="wealth">
                <h3 class="pixel-card-title">üí∞ WEALTH</h3>
                <div class="stat-row">
                    <span class="stat-label">Total Savings</span>
                    <span class="stat-value">$12,450</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Investments</span>
                    <span class="stat-value">$8,200</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Gig Earnings</span>
                    <span class="stat-value">$3,800</span>
                </div>
                <div class="progress-container">
                    <div class="pixel-progress">
                        <div class="pixel-progress-fill" style="width: 65%"></div>
                    </div>
                </div>
            </div>

            <!-- Streak Card -->
            <div class="pixel-card">
                <h3 class="pixel-card-title">üî• STREAK</h3>
                <div class="stat-row">
                    <span class="stat-label">Current Streak</span>
                    <span class="stat-value">12 DAYS</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Best Streak</span>
                    <span class="stat-value">28 DAYS</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="pixel-footer">
        <p>MC Project ‚Äî Your Personal Health & Wealth Companion</p>
        <p style="margin-top: 0.5rem; font-size: 12px;">Built with ‚ù§Ô∏è for GenZ</p>
    </footer>

    <!-- 3D Character Script -->
    <script>
        let scene, camera, renderer, character, controls;
        let isWireframe = false;
        let currentPose = 0;
        let poseInterval;
        
        // 10 poses that change every 10 seconds
        const poses = [
            { name: 'Idle', rotation: { x: 0, y: 0, z: 0 }, position: { y: 0 } },
            { name: 'Wave', rotation: { x: 0, y: 0.5, z: 0 }, position: { y: 0.1 } },
            { name: 'Jump', rotation: { x: 0, y: -0.3, z: 0 }, position: { y: 0.3 } },
            { name: 'Spin', rotation: { x: 0, y: Math.PI, z: 0 }, position: { y: 0 } },
            { name: 'Dance', rotation: { x: 0.1, y: 0.8, z: 0 }, position: { y: 0.1 } },
            { name: 'Sit', rotation: { x: -0.2, y: 0, z: 0 }, position: { y: -0.2 } },
            { name: 'Celebrate', rotation: { x: 0, y: -0.5, z: 0.1 }, position: { y: 0.2 } },
            { name: 'Stretch', rotation: { x: 0.2, y: 0.3, z: 0 }, position: { y: 0.05 } },
            { name: 'Sleepy', rotation: { x: 0.3, y: 0, z: 0 }, position: { y: -0.1 } },
            { name: 'Excited', rotation: { x: -0.1, y: 0.6, z: 0 }, position: { y: 0.15 } }
        ];

        function initCharacter() {
            const container = document.getElementById('character-canvas');
            const width = container.clientWidth;
            const height = container.clientHeight;

            // Scene
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x1a1a2e);

            // Camera
            camera = new THREE.PerspectiveCamera(45, width / height, 0.1, 1000);
            camera.position.set(0, 1.2, 2.5);

            // Renderer
            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(width, height);
            renderer.shadowMap.enabled = true;
            container.appendChild(renderer.domElement);

            // Lighting
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.7);
            scene.add(ambientLight);

            const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
            directionalLight.position.set(2, 5, 3);
            directionalLight.castShadow = true;
            scene.add(directionalLight);
            
            const rimLight = new THREE.DirectionalLight(0x00d4ff, 0.5);
            rimLight.position.set(-2, 3, -2);
            scene.add(rimLight);

            // Ground
            const groundGeometry = new THREE.CircleGeometry(2, 32);
            const groundMaterial = new THREE.MeshBasicMaterial({ 
                color: 0x0f0f1a,
                transparent: true,
                opacity: 0.8
            });
            const ground = new THREE.Mesh(groundGeometry, groundMaterial);
            ground.rotation.x = -Math.PI / 2;
            ground.position.y = -0.5;
            scene.add(ground);

            // Controls
            controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;
            controls.minDistance = 1.5;
            controls.maxDistance = 4;
            controls.enablePan = false;

            // Load VRM
            loadVRM();

            // Start pose rotation
            startPoseRotation();

            // Animation loop
            animate();
        }

        function loadVRM() {
            const loader = new THREE.GLTFLoader();
            
            // VRM URL - Meebit #11318
            const vrmUrl = 'https://files.meebits.app/vrm/11318.vrm';
            
            loader.load(
                vrmUrl,
                function(gltf) {
                    console.log('VRM loaded successfully');
                    
                    if (character) scene.remove(character);
                    
                    character = gltf.scene;
                    
                    // Scale and position
                    character.scale.set(0.4, 0.4, 0.4);
                    character.position.set(0, -0.5, 0);
                    
                    // Enable shadows
                    character.traverse((child) => {
                        if (child.isMesh) {
                            child.castShadow = true;
                            child.receiveShadow = true;
                        }
                    });
                    
                    scene.add(character);
                    
                    // Apply first pose
                    applyPose(0);
                },
                function(xhr) {
                    const percent = Math.round((xhr.loaded / xhr.total) * 100);
                    console.log('VRM loading: ' + percent + '%');
                },
                function(error) {
                    console.error('VRM load failed:', error);
                    createFallbackCharacter();
                }
            );
        }
        
        function createFallbackCharacter() {
            // Create a pixel-style character as fallback
            const group = new THREE.Group();
            
            // Body
            const bodyGeo = new THREE.BoxGeometry(0.3, 0.5, 0.2);
            const bodyMat = new THREE.MeshPhongMaterial({ color: 0x00d4ff });
            const body = new THREE.Mesh(bodyGeo, bodyMat);
            body.position.y = 0;
            body.castShadow = true;
            group.add(body);
            
            // Head
            const headGeo = new THREE.BoxGeometry(0.25, 0.25, 0.25);
            const headMat = new THREE.MeshPhongMaterial({ color: 0xffe66d });
            const head = new THREE.Mesh(headGeo, headMat);
            head.position.y = 0.4;
            head.castShadow = true;
            group.add(head);
            
            // Arms
            const armGeo = new THREE.BoxGeometry(0.08, 0.3, 0.08);
            const armMat = new THREE.MeshPhongMaterial({ color: 0x00d4ff });
            
            const leftArm = new THREE.Mesh(armGeo, armMat);
            leftArm.position.set(-0.22, 0.1, 0);
            group.add(leftArm);
            
            const rightArm = new THREE.Mesh(armGeo, armMat);
            rightArm.position.set(0.22, 0.1, 0);
            group.add(rightArm);
            
            // Legs
            const legGeo = new THREE.BoxGeometry(0.1, 0.4, 0.1);
            const legMat = new THREE.MeshPhongMaterial({ color: 0x9d4edd });
            
            const leftLeg = new THREE.Mesh(legGeo, legMat);
            leftLeg.position.set(-0.1, -0.45, 0);
            group.add(leftLeg);
            
            const rightLeg = new THREE.Mesh(legGeo, legMat);
            rightLeg.position.set(0.1, -0.45, 0);
            group.add(rightLeg);
            
            character = group;
            character.scale.set(0.8, 0.8, 0.8);
            character.position.set(0, 0, 0);
            scene.add(character);
            
            applyPose(0);
        }

        function applyPose(poseIndex) {
            if (!character) return;
            
            const pose = poses[poseIndex];
            
            // Smooth transition
            const duration = 500; // ms
            const startRot = character.rotation.clone();
            const startPos = character.position.clone();
            const startTime = Date.now();
            
            function updatePose() {
                const elapsed = Date.now() - startTime;
                const progress = Math.min(elapsed / duration, 1);
                
                // Easing
                const ease = 1 - Math.pow(1 - progress, 3);
                
                character.rotation.x = startRot.x + (pose.rotation.x - startRot.x) * ease;
                character.rotation.y = startRot.y + (pose.rotation.y - startRot.y) * ease;
                character.rotation.z = startRot.z + (pose.rotation.z - startRot.z) * ease;
                
                character.position.y = startPos.y + (pose.position.y - startPos.y) * ease;
                
                if (progress < 1) {
                    requestAnimationFrame(updatePose);
                }
            }
            
            updatePose();
        }

        function startPoseRotation() {
            // Change pose every 10 seconds
            poseInterval = setInterval(() => {
                currentPose = (currentPose + 1) % poses.length;
                applyPose(currentPose);
            }, 10000);
        }

        function animate() {
            requestAnimationFrame(animate);
            
            // Idle animation
            if (character) {
                character.position.y += Math.sin(Date.now() * 0.002) * 0.001;
            }
            
            controls.update();
            renderer.render(scene, camera);
        }

        function rotateCharacter() {
            if (character) {
                character.rotation.y += Math.PI / 2;
            }
        }

        function toggleWireframe() {
            isWireframe = !isWireframe;
            if (character) {
                character.traverse((child) => {
                    if (child.isMesh && child.material) {
                        child.material.wireframe = isWireframe;
                    }
                });
            }
        }

        function resetView() {
            camera.position.set(0, 1.2, 2.5);
            camera.lookAt(0, 0, 0);
            if (character) {
                applyPose(currentPose);
            }
        }

        // Initialize on load
        window.addEventListener('load', initCharacter);
        
        window.addEventListener('resize', () => {
            if (camera && renderer) {
                const container = document.getElementById('character-canvas');
                camera.aspect = container.clientWidth / container.clientHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(container.clientWidth, container.clientHeight);
            }
        });
        
        // Cleanup on page unload
        window.addEventListener('beforeunload', () => {
            if (poseInterval) clearInterval(poseInterval);
        });
    </script>
</body>
</html>
