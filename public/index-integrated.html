<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GenZ Character - Health & Wealth Tracker</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #fff;
            min-height: 100vh;
        }
        .header {
            background: rgba(255,255,255,0.05);
            padding: 20px;
            text-align: center;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .header h1 {
            font-size: 28px;
            background: linear-gradient(135deg, #4ecdc4, #ffe66d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .main-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            padding: 20px;
            max-width: 1400px;
            margin: 0 auto;
        }
        @media (max-width: 900px) {
            .main-container { grid-template-columns: 1fr; }
        }
        
        /* 3D Viewer Section */
        .viewer-section {
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 20px;
        }
        .viewer-section h2 {
            font-size: 18px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        #canvas-container {
            width: 100%;
            height: 400px;
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
            position: relative;
        }
        .viewer-controls {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        .viewer-controls button {
            padding: 8px 16px;
            background: rgba(255,255,255,0.1);
            border: none;
            border-radius: 8px;
            color: #fff;
            cursor: pointer;
            font-size: 13px;
        }
        .viewer-controls button:hover { background: rgba(255,255,255,0.2); }
        .movement-indicator {
            margin-top: 10px;
            padding: 10px;
            background: rgba(78, 205, 196, 0.2);
            border-radius: 8px;
            text-align: center;
            font-size: 14px;
        }
        
        /* Dashboard Section */
        .dashboard-section {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .metric-card {
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 20px;
            cursor: pointer;
            transition: transform 0.2s, background 0.2s;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .metric-card:hover {
            transform: translateY(-4px);
            background: rgba(255,255,255,0.08);
        }
        .metric-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        .metric-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 18px;
        }
        .metric-score {
            font-size: 32px;
            font-weight: 700;
        }
        .health-score { color: #10b981; }
        .wealth-score { color: #f59e0b; }
        .progress-bar {
            height: 12px;
            background: rgba(255,255,255,0.1);
            border-radius: 6px;
            overflow: hidden;
            margin-bottom: 15px;
        }
        .progress-fill {
            height: 100%;
            border-radius: 6px;
            transition: width 0.5s ease;
        }
        .health-fill { background: linear-gradient(90deg, #10b981, #34d399); }
        .wealth-fill { background: linear-gradient(90deg, #f59e0b, #fbbf24); }
        .metric-summary {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            font-size: 13px;
        }
        .summary-item {
            text-align: center;
            padding: 10px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
        }
        .summary-value { font-size: 18px; font-weight: 600; }
        .summary-label { opacity: 0.6; margin-top: 4px; }
        .click-hint {
            text-align: center;
            font-size: 12px;
            opacity: 0.5;
            margin-top: 10px;
        }
        
        /* Detail Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .modal-overlay.active { display: flex; }
        .modal {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border-radius: 20px;
            padding: 30px;
            max-width: 600px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .modal-header h2 { font-size: 24px; }
        .close-btn {
            background: none;
            border: none;
            color: #fff;
            font-size: 28px;
            cursor: pointer;
        }
        .detail-grid {
            display: grid;
            gap: 15px;
        }
        .detail-item {
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .detail-label { opacity: 0.7; }
        .detail-value { font-weight: 600; }
        .input-section {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(255,255,255,0.1);
        }
        .input-section h3 { margin-bottom: 15px; }
        .input-row {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }
        .input-row input, .input-row select {
            flex: 1;
            padding: 10px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 8px;
            color: #fff;
        }
        .input-row button {
            padding: 10px 20px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border: none;
            border-radius: 8px;
            color: #fff;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üéÆ GenZ Character: Health & Wealth Tracker</h1>
    </div>

    <div class="main-container">
        <!-- 3D Viewer Section -->
        <div class="viewer-section">
            <h2>üßç Your Character</h2>
            <div id="canvas-container"></div>
            <div class="movement-indicator" id="current-movement">
                üé≠ Current: Loading...
            </div>
            <div class="viewer-controls">
                <button onclick="rotateCharacter()">üîÑ Rotate</button>
                <button onclick="toggleWireframe()">üî≤ Wireframe</button>
                <button onclick="resetView()">üëÅÔ∏è Reset View</button>
                <button onclick="randomMovement()">üé≤ New Move</button>
            </div>
        </div>

        <!-- Dashboard Section -->
        <div class="dashboard-section">
            <!-- Health Card -->
            <div class="metric-card" onclick="openModal('health')">
                <div class="metric-header">
                    <div class="metric-title">
                        <span>‚ù§Ô∏è</span>
                        <span>Health Score</span>
                    </div>
                    <div class="metric-score health-score" id="health-score">78</div>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill health-fill" id="health-bar" style="width: 78%"></div>
                </div>
                
                <div class="metric-summary">
                    <div class="summary-item">
                        <div class="summary-value">4.2k</div>
                        <div class="summary-label">Steps</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-value">7.5h</div>
                        <div class="summary-label">Sleep</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-value">3/5</div>
                        <div class="summary-label">Meals</div>
                    </div>
                </div>
                
                <div class="click-hint">üëÜ Click for detailed health data</div>
            </div>

            <!-- Wealth Card -->
            <div class="metric-card" onclick="openModal('wealth')">
                <div class="metric-header">
                    <div class="metric-title">
                        <span>üí∞</span>
                        <span>Wealth Score</span>
                    </div>
                    <div class="metric-score wealth-score" id="wealth-score">65</div>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill wealth-fill" id="wealth-bar" style="width: 65%"></div>
                </div>
                
                <div class="metric-summary">
                    <div class="summary-item">
                        <div class="summary-value">$2.4k</div>
                        <div class="summary-label">Savings</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-value">$450</div>
                        <div class="summary-label">Invested</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-value">$120</div>
                        <div class="summary-label">Gig Work</div>
                    </div>
                </div>
                
                <div class="click-hint">üëÜ Click for detailed wealth data</div>
            </div>
        </div>
    </div>

    <!-- Health Detail Modal -->
    <div class="modal-overlay" id="health-modal">
        <div class="modal">
            <div class="modal-header">
                <h2>‚ù§Ô∏è Health Details</h2>
                <button class="close-btn" onclick="closeModal('health')">√ó</button>
            </div>
            
            <div class="detail-grid">
                <div class="detail-item">
                    <span class="detail-label">Overall Health Score</span>
                    <span class="detail-value health-score">78/100</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Steps Today</span>
                    <span class="detail-value">4,247 / 10,000</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Sleep Last Night</span>
                    <span class="detail-value">7.5 hours</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Healthy Meals</span>
                    <span class="detail-value">3 of 5</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Mental Health</span>
                    <span class="detail-value">Good üòä</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Exercise Minutes</span>
                    <span class="detail-value">25 min</span>
                </div>
            </div>
            
            <div class="input-section">
                <h3>‚ûï Log Health Activity</h3>
                <div class="input-row">
                    <select id="health-activity">
                        <option>Steps</option>
                        <option>Sleep (hours)</option>
                        <option>Healthy Meal</option>
                        <option>Exercise (min)</option>
                        <option>Meditation</option>
                    </select>
                    <input type="number" id="health-value" placeholder="Value">
                    <button onclick="logHealth()">Add</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Wealth Detail Modal -->
    <div class="modal-overlay" id="wealth-modal">
        <div class="modal">
            <div class="modal-header">
                <h2>üí∞ Wealth Details</h2>
                <button class="close-btn" onclick="closeModal('wealth')">√ó</button>
            </div>
            
            <div class="detail-grid">
                <div class="detail-item">
                    <span class="detail-label">Overall Wealth Score</span>
                    <span class="detail-value wealth-score">65/100</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Total Savings</span>
                    <span class="detail-value">$2,450</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Investments</span>
                    <span class="detail-value">$450 (Crypto + Stocks)</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Gig Income (This Month)</span>
                    <span class="detail-value">$120</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Monthly Expenses</span>
                    <span class="detail-value">$890</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Debt</span>
                    <span class="detail-value">$0 üéâ</span>
                </div>
            </div>
            
            <div class="input-section">
                <h3>‚ûï Log Wealth Activity</h3>
                <div class="input-row">
                    <select id="wealth-activity">
                        <option>Income</option>
                        <option>Expense</option>
                        <option>Investment</option>
                        <option>Gig Work</option>
                        <option>Savings</option>
                    </select>
                    <input type="number" id="wealth-value" placeholder="$ Amount">
                    <button onclick="logWealth()">Add</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Movements array for random selection
        const movements = [
            'Idle Stand', 'Walk Cycle', 'Wave Hello', 'Jump', 
            'Sit Down', 'Spin Around', 'Dance', 'Stretch', 'Celebrate', 'Sleepy'
        ];
        
        let currentMovement = '';
        
        // Initialize random movement on load
        function setRandomMovement() {
            currentMovement = movements[Math.floor(Math.random() * movements.length)];
            document.getElementById('current-movement').innerHTML = 
                `üé≠ Current: "${currentMovement}"`;
        }
        
        // Random movement button
        function randomMovement() {
            setRandomMovement();
            // Here you would trigger the actual animation
            console.log('Playing animation:', currentMovement);
        }
        
        // Initialize
        setRandomMovement();
        
        // Modal functions
        function openModal(type) {
            document.getElementById(type + '-modal').classList.add('active');
        }
        
        function closeModal(type) {
            document.getElementById(type + '-modal').classList.remove('active');
        }
        
        // Close on overlay click
        document.querySelectorAll('.modal-overlay').forEach(overlay => {
            overlay.addEventListener('click', (e) => {
                if (e.target === overlay) overlay.classList.remove('active');
            });
        });
        
        // Log functions
        function logHealth() {
            const activity = document.getElementById('health-activity').value;
            const value = document.getElementById('health-value').value;
            alert(`Logged: ${activity} = ${value}`);
            // Here you would update the character and scores
        }
        
        function logWealth() {
            const activity = document.getElementById('wealth-activity').value;
            const value = document.getElementById('wealth-value').value;
            alert(`Logged: ${activity} = $${value}`);
            // Here you would update the character and scores
        }
        
        // Three.js placeholder (would load actual VRM)
        function initViewer() {
            const container = document.getElementById('canvas-container');
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, container.offsetWidth / container.offsetHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ alpha: true });
            renderer.setSize(container.offsetWidth, container.offsetHeight);
            container.appendChild(renderer.domElement);
            
            // Placeholder character (cube)
            const geometry = new THREE.BoxGeometry(1, 2, 0.5);
            const material = new THREE.MeshBasicMaterial({ color: 0x4ecdc4, wireframe: true });
            const cube = new THREE.Mesh(geometry, material);
            scene.add(cube);
            
            camera.position.z = 3;
            
            function animate() {
                requestAnimationFrame(animate);
                cube.rotation.y += 0.01;
                renderer.render(scene, camera);
            }
            animate();
            
            // Store for controls
            window.characterCube = cube;
            window.viewerScene = scene;
            window.viewerCamera = camera;
            window.viewerRenderer = renderer;
        }
        
        function rotateCharacter() {
            if (window.characterCube) {
                window.characterCube.rotation.y += Math.PI / 2;
            }
        }
        
        let wireframeMode = false;
        function toggleWireframe() {
            if (window.characterCube) {
                wireframeMode = !wireframeMode;
                window.characterCube.material.wireframe = wireframeMode;
            }
        }
        
        function resetView() {
            if (window.characterCube && window.viewerCamera) {
                window.characterCube.rotation.set(0, 0, 0);
                window.viewerCamera.position.set(0, 0, 3);
            }
        }
        
        // Initialize viewer when page loads
        window.addEventListener('load', initViewer);
        
        // Handle resize
        window.addEventListener('resize', () => {
            if (window.viewerCamera && window.viewerRenderer) {
                const container = document.getElementById('canvas-container');
                window.viewerCamera.aspect = container.offsetWidth / container.offsetHeight;
                window.viewerCamera.updateProjectionMatrix();
                window.viewerRenderer.setSize(container.offsetWidth, container.offsetHeight);
            }
        });
    </script>
</body>
</html>